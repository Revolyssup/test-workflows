name: istio
vars:
  controlplaneNS: istio-system
  istioVersion: 1.12.0
  namespace: default
  sidecarNS: default
services:
  bookinfo-vs8c57d047:
    name: bookinfo-vs
    type: VirtualService.Istio
    namespace: $(#ref.vars.namespace)
    dependsOn:
    - istioservicemesh07e8493a
    settings:
      gateways:
      - sample-app-gateway
      hosts:
      - bookinfo.meshery.io
      http:
      - fault:
          delay:
            fixedDelay: 7s
            percentage:
              value: 100
        match:
        - uri:
            exact: /productpage
        - uri:
            prefix: /static
        - uri:
            exact: /login
        - uri:
            exact: /logout
        - uri:
            prefix: /api/v1/products
        route:
        - destination:
            host: productpage
            port:
              number: 9080
      name: bookinfo-vs
      namespace: $(#ref.vars.namespace)
    traits:
      meshmap:
        edges:
        - from: $(#ref.services.sample-app-gateway3845e1f6.id)
          to: $(#ref.services.bookinfo-vs8c57d047.id)
        - from: $(#ref.services.bookinfo-vs8c57d047.id)
          to: $(#ref.services.productpage6038bed7.id)
        position:
          posX: 183.00511692929953
          posY: 320.00211735005496
  details73de2529:
    name: details
    type: Application
    namespace: $(#ref.vars.namespace)
    dependsOn:
    - istioservicemesh07e8493a
    settings:
      advanced:
        labels:
          version: v1
      containers:
      - image: docker.io/istio/examples-bookinfo-details-v1:1.16.2
        name: details
        ports:
        - containerPort: 9080
          name: http
      name: details
      namespace: $(#ref.vars.namespace)
      replicas: 1
    traits:
      meshmap:
        edges:
        - from: $(#ref.services.productpage6038bed7.id)
          to: $(#ref.services.details73de2529.id)
        position:
          posX: 414.45747658153505
          posY: 388.85606569789246
  istioservicemesh07e8493a:
    name: istioservicemesh
    type: IstioMesh
    namespace: $(#ref.vars.controlplaneNS)
    settings:
      version: $(#ref.vars.istioVersion)
    traits:
      automaticSidecarInjection:
        namespaces:
        - $(#ref.vars.sidecarNS)
  productpage6038bed7:
    name: productpage
    type: Application
    namespace: $(#ref.vars.namespace)
    dependsOn:
    - istioservicemesh07e8493a
    settings:
      advanced:
        labels:
          version: v1
      containers:
      - image: docker.io/istio/examples-bookinfo-productpage-v1:1.16.2
        name: productpage
        ports:
        - containerPort: 9080
          name: http
      name: productpage
      namespace: $(#ref.vars.namespace)
      replicas: 1
    traits:
      meshmap:
        edges:
        - from: $(#ref.services.bookinfo-vs8c57d047.id)
          to: $(#ref.services.productpage6038bed7.id)
        - from: $(#ref.services.productpage6038bed7.id)
          to: $(#ref.services.reviews250d3356.id)
        - from: $(#ref.services.productpage6038bed7.id)
          to: $(#ref.services.details73de2529.id)
        position:
          posX: 281.0063520501649
          posY: 320.0015880125412
  ratings8229a44f:
    name: ratings
    type: Application
    namespace: $(#ref.vars.namespace)
    dependsOn:
    - istioservicemesh07e8493a
    settings:
      advanced:
        labels:
          version: v1
      containers:
      - image: docker.io/istio/examples-bookinfo-ratings-v1:1.16.2
        name: ratings
        ports:
        - containerPort: 9080
          name: http
      name: ratings
      namespace: $(#ref.vars.namespace)
      replicas: 1
    traits:
      meshmap:
        edges:
        - from: $(#ref.services.reviews250d3356-v37926254a.id)
          to: $(#ref.services.ratings8229a44f.id)
        position:
          posX: 649
          posY: 391
  reviews-v2077e4c27:
    name: reviews-v2
    type: Application
    namespace: $(#ref.vars.namespace)
    dependsOn:
    - istioservicemesh07e8493a
    settings:
      advanced:
        create_service: false
        labels:
          custom.app: reviews
          version: v2
      containers:
      - image: docker.io/istio/examples-bookinfo-reviews-v2:1.16.2
        name: reviews
        ports:
        - containerPort: 9080
          name: http
      name: reviews-v2
      namespace: $(#ref.vars.namespace)
      replicas: 1
    traits:
      meshmap:
        edges:
        - from: $(#ref.services.reviews250d3356.id)
          to: $(#ref.services.reviews250d3356-v2077e4c27.id)
        parent: d29c1858-d417-40bf-88fa-a8220adefd4d
        position:
          posX: 536.3224484379678
          posY: 205.00335247092036
  reviews-v148138ab7:
    name: reviews-v1
    type: Application
    namespace: $(#ref.vars.namespace)
    dependsOn:
    - istioservicemesh07e8493a
    settings:
      advanced:
        create_service: false
        labels:
          custom.app: reviews
          version: v1
      containers:
      - image: docker.io/istio/examples-bookinfo-reviews-v1:1.16.2
        name: reviews
        ports:
        - containerPort: 9080
          name: http
      name: reviews-v1
      namespace: $(#ref.vars.namespace)
      replicas: 1
    traits:
      meshmap:
        edges:
        - from: $(#ref.services.reviews250d3356.id)
          to: $(#ref.services.reviews250d3356-v148138ab7.id)
        parent: d29c1858-d417-40bf-88fa-a8220adefd4d
        position:
          posX: 534.1172892338158
          posY: 147.36074939087763
  reviews-v37926254a:
    name: reviews-v3
    type: Application
    namespace: $(#ref.vars.namespace)
    dependsOn:
    - istioservicemesh07e8493a
    settings:
      advanced:
        create_service: false
        labels:
          custom.app: reviews
          version: v3
      containers:
      - image: docker.io/istio/examples-bookinfo-reviews-v3:1.16.2
        name: reviews
        ports:
        - containerPort: 9080
          name: http
      name: reviews-v3
      namespace: $(#ref.vars.namespace)
      replicas: 1
    traits:
      meshmap:
        edges:
        - from: $(#ref.services.reviews250d3356-v37926254a.id)
          to: $(#ref.services.ratings8229a44f.id)
        - from: $(#ref.services.reviews250d3356.id)
          to: $(#ref.services.reviews250d3356-v37926254a.id)
        parent: d29c1858-d417-40bf-88fa-a8220adefd4d
        position:
          posX: 537.5467581185748
          posY: 268.69329017003173
  reviews250d3356:
    name: reviews
    type: Service.K8s
    namespace: $(#ref.vars.namespace)
    dependsOn:
    - istioservicemesh07e8493a
    settings:
      name: reviews
      namespace: $(#ref.vars.namespace)
      spec:
        ports:
        - name: http
          port: 9080
        selector:
          custom.app: reviews
    traits:
      meshmap:
        edges:
        - from: $(#ref.services.productpage6038bed7.id)
          to: $(#ref.services.reviews250d3356.id)
        - from: $(#ref.services.reviews250d3356.id)
          to: $(#ref.services.reviews250d3356-v2077e4c27.id)
        - from: $(#ref.services.reviews250d3356.id)
          to: $(#ref.services.reviews250d3356-v37926254a.id)
        - from: $(#ref.services.reviews250d3356.id)
          to: $(#ref.services.reviews250d3356-v148138ab7.id)
        position:
          posX: 400.9957488157415
          posY: 193.99797562654356
  sample-app-gateway3845e1f6:
    name: sample-app-gateway
    type: Gateway.Istio
    namespace: $(#ref.vars.namespace)
    dependsOn:
    - istioservicemesh07e8493a
    settings:
      name: sample-app-gateway
      namespace: $(#ref.vars.namespace)
      selector:
        istio: ingressgateway
      servers:
      - hosts:
        - '*'
        port:
          name: http
          number: 80
          protocol: HTTP
    traits:
      meshmap:
        edges:
        - from: $(#ref.services.sample-app-gateway3845e1f6.id)
          to: $(#ref.services.bookinfo-vs8c57d047.id)
        position:
          posX: 123
          posY: 320