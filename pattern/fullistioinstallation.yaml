name: istio
vars: 
  controlplaneNS: istio-system
  sidecarNS: default
  istioVersion: 1.12.0
services:
  istioinstallation:
    type: $(#use https://raw.githubusercontent.com/Revolyssup/test-workflows/main/pattern/istioinstallation.yaml)
    settings: 
        controlplaneNS: $(#ref.vars.controlplaneNS)
        sidecarNS: $(#ref.vars.sidecarNS)
        istioVersion: $(#ref.vars.istioVersion)
  addons:
    type: $(#use https://raw.githubusercontent.com/Revolyssup/test-workflows/main/pattern/addon.yaml)
    settings: 
        controlplaneNS: istio-system
    dependsOn:
      - istioinstallation